{"version":3,"sources":["assets/images/bookPurchase/soldOut2.png","assets/images/notFound/notFound.jpg","assets/images/spinner/spinner.gif","components/ui/BasketIcon/index.js","components/ui/BaseButton/index.js","actions/user.js","helpers/index.js","components/Header/index.js","components/ui/BaseInput/index.js","containers/SignIn/index.js","components/ui/BaseSelect/index.js","components/Menu/priceFilter.js","components/Menu/index.js","actions/books.js","components/BooksList/BookCard/index.js","components/BooksList/index.js","containers/Books/index.js","components/BookDetailsInfo/index.js","components/BookPurchase/index.js","actions/purchaseCard.js","components/ui/Modal/index.js","containers/BookDetails/index.js","components/PurchaseCard/PurchaseCardEmptyCard/index.js","components/PurchaseCard/PurchaseCardList/BasketItem/index.js","components/PurchaseCard/PurchaseCardList/index.js","containers/PurchaseCard/index.js","containers/NotFound/index.js","components/Spinner/index.js","components/Footer/index.js","routes/PublicRoute/index.js","routes/PrivateRoute/index.js","App.js","reducers/user.js","reducers/purchaseCard.js","reducers/books.js","reducers/index.js","index.js"],"names":["module","exports","connect","state","countOfProducts","purchaseCard","className","style","width","src","alt","height","fontSize","top","right","BaseButton","name","text","handleClick","type","onClick","defaultProps","signIn","data","payload","clearLocalStorage","localStorage","removeItem","isClickOutside","event","element","contains","target","Header","logOut","onSignOut","props","user","this","avatar","username","to","Component","dispatch","BaseInput","label","placeholder","id","value","handleChanges","isError","errorText","handleKeyUp","min","max","handleBlur","htmlFor","onChange","e","onKeyUp","onBlur","SignIn","checkValidation","length","setState","keyCode","logIn","onInputChange","a","onSignIn","axios","post","defaults","headers","common","Authorization","token","setDataToLocalStorage","console","error","message","setItem","BaseSelect","optionList","disabledFirstElement","map","item","index","disabled","key","priceFilter","from","Infinity","filters","books","onSetFilter","setFilter","search","price","BookCard","book","cover","title","author","BooksList","makeSearch","list","filter","toLowerCase","includes","makeFilter","filterParams","find","makeBooksList","booksList","result","onSaveBooksList","get","booksLists","response","history","push","saveBooksList","Books","BookDetailsInfo","currentBook","level","tags","tag","description","BookPurchase","checkTheNumberOfAvailableBook","basket","count","forEach","String","isWarningShown","clearState","onAddItemToCard","toggleModal","require","toFixed","addItemToCard","Modal","handleOutsideClick","closeModal","modal","React","createRef","focus","modalTitle","children","ref","elem","tabIndex","onKeyDown","BookDetails","getCurrentBook","match","params","status","setCurrentBook","isModalShown","prevProps","PurchaseCardEmptyCard","minHeight","BasketItem","basketItem","PurchaseCardList","countTotalPrice","PurchaseCard","onClearCard","formatDataBeforeSend","i","NotFound","Spinner","Footer","href","isAuthenticated","component","restricted","rest","render","path","App","getProfile","onSetLoading","getItem","isLoading","exact","setLoading","initialState","combineReducers","Number","baseURL","store","createStore","rootReducer","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0c560728.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/soldOut2.da543d86.png\";","module.exports = __webpack_public_path__ + \"static/media/notFound.f42d312b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spinner.65ebb302.gif\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nfunction BasketIcon({ countOfProducts }) {\n  return (\n    <div className=\"position-relative\">\n      <img\n        style={{ width: '50px' }}\n        src=\"https://img.icons8.com/dotty/80/000000/shopping-basket.png\"\n        alt=\"Basket\"\n        className=\"mx-2\"\n      />\n      <div\n        className=\"d-flex justify-content-center align-items-center position-absolute bg-success rounded-circle \"\n        style={{ width: '18px', height: '18px', fontSize: '12px', top: 0, right: 0 }}\n      >\n        {countOfProducts}\n      </div>\n    </div>\n  );\n}\n\nBasketIcon.propTypes = {\n  countOfProducts: PropTypes.number.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  countOfProducts: state.purchaseCard.countOfProducts,\n});\n\nexport default connect(mapStateToProps, null)(BasketIcon);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BaseButton({ name, text, handleClick, className, style, type }) {\n  return (\n    <>\n      {/* eslint-disable-next-line react/button-has-type */}\n      <button type={type} name={name} onClick={handleClick} className={className} style={style}>\n        {text}\n      </button>\n    </>\n  );\n}\n\nBaseButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  type: PropTypes.string,\n  style: PropTypes.instanceOf(Object),\n};\n\nBaseButton.defaultProps = {\n  className: '',\n  style: {},\n  type: 'button',\n};\n\nexport default BaseButton;\n","export const SET_LOADING = 'SET_LOADING';\nexport const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\n\nexport const setLoading = data => {\n  return {\n    type: SET_LOADING,\n    payload: data,\n  };\n};\n\nexport const signIn = data => {\n  return {\n    type: SIGN_IN,\n    payload: data,\n  };\n};\nexport const signOut = () => {\n  return { type: SIGN_OUT };\n};\n","export const clearLocalStorage = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('username');\n};\n\nexport const isClickOutside = (event, element) => {\n  return !element.contains(event.target);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport BasketIcon from '../ui/BasketIcon';\nimport BaseButton from '../ui/BaseButton';\n\nimport { signOut } from '../../actions/user';\nimport { clearLocalStorage } from '../../helpers';\n\nclass Header extends Component {\n  logOut = () => {\n    const { onSignOut } = this.props;\n    onSignOut();\n    clearLocalStorage();\n  };\n\n  render() {\n    const { user } = this.props;\n    const { avatar, username } = user;\n    return (\n      <div className=\"d-flex justify-content-between align-items-center p-4 border-bottom\">\n        <div>\n          <Link to=\"/books\">JS Band store</Link> / Yarik Harmash\n        </div>\n        <div className=\"d-flex align-items-center\">\n          <Link to=\"/card\">\n            <BasketIcon />\n          </Link>\n          <BaseButton\n            handleClick={this.logOut}\n            text=\"Sign out\"\n            name=\"signOut\"\n            className=\"border rounded py-2 bg-light mx-2\"\n          />\n          <img\n            src={avatar}\n            alt=\"Avatar\"\n            className=\"rounded-circle mx-2\"\n            style={{ width: '40px' }}\n          />\n          <h3 className=\"font-weight-bold mx-2\">{username}</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nHeader.propTypes = {\n  onSignOut: PropTypes.func.isRequired,\n  user: PropTypes.instanceOf(Object).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSignOut: () => dispatch(signOut()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BaseInput({\n  label,\n  placeholder,\n  name,\n  id,\n  type,\n  value,\n  handleChanges,\n  className,\n  isError,\n  errorText,\n  handleKeyUp,\n  min,\n  max,\n  handleBlur,\n}) {\n  return (\n    <>\n      <label htmlFor={id} className=\"w-100 font-weight-bold d-flex align-items-center flex-column\">\n        {label || ''}\n        <input\n          type={type}\n          id={id}\n          className={className}\n          name={name}\n          value={value}\n          onChange={e => handleChanges(e)}\n          onKeyUp={e => handleKeyUp(e)}\n          onBlur={e => handleBlur(e)}\n          placeholder={placeholder}\n          min={min}\n          max={max}\n        />\n        {isError ? (\n          <span className=\"text-danger font-weight-normal\" style={{ fontSize: '11px' }}>\n            {errorText}\n          </span>\n        ) : null}\n      </label>\n    </>\n  );\n}\n\nBaseInput.propTypes = {\n  label: PropTypes.string,\n  type: PropTypes.string,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  handleChanges: PropTypes.func.isRequired,\n  handleKeyUp: PropTypes.func,\n  isError: PropTypes.bool,\n  errorText: PropTypes.string,\n  min: PropTypes.string,\n  max: PropTypes.string,\n  handleBlur: PropTypes.func,\n};\n\nBaseInput.defaultProps = {\n  label: null,\n  type: 'text',\n  className: 'form-control',\n  placeholder: null,\n  isError: false,\n  errorText: '',\n  handleKeyUp: () => {},\n  handleBlur: () => {},\n  min: '0',\n  max: '',\n};\n\nexport default BaseInput;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport BaseInput from '../../components/ui/BaseInput';\nimport BaseButton from '../../components/ui/BaseButton';\n\nimport { signIn } from '../../actions/user';\n\nimport './signIn.scss';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      isError: false,\n    };\n  }\n\n  checkValidation = () => {\n    const { username } = this.state;\n    const isError = username.length < 4 || username.length > 16;\n    this.setState({ isError });\n    return isError;\n  };\n\n  handleKeyUp = e => {\n    const { keyCode } = e;\n    if (keyCode === 13) this.logIn();\n  };\n\n  onInputChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      isError: false,\n      [name]: value,\n    });\n  };\n\n  logIn = async () => {\n    const isError = this.checkValidation();\n    if (isError) return;\n    const { username } = this.state;\n    const { onSignIn } = this.props;\n    try {\n      const user = await axios.post('signin', { username });\n      axios.defaults.headers.common.Authorization = `Bearer ${user.data.token}`;\n      onSignIn(user.data);\n      this.setDataToLocalStorage(user.data);\n    } catch (e) {\n      console.error(`${e.name}: ${e.message}`);\n    }\n  };\n\n  setDataToLocalStorage = user => {\n    localStorage.setItem('token', user.token);\n    localStorage.setItem('username', user.username);\n  };\n\n  render() {\n    const { username, isError } = this.state;\n    return (\n      <>\n        <div className=\"signin-wrapper position-absolute min-vh-100 min-vw-100\" />\n        <div className=\" min-vh-100 min-vw-100 d-flex justify-content-center align-items-center position-relative\">\n          <div className=\"signin-form w-25 d-flex justify-content-center align-items-center flex-column border border-dark px-4 py-3\">\n            <BaseInput\n              value={username}\n              name=\"username\"\n              id=\"username\"\n              className=\"form-control m-2\"\n              label=\"Username\"\n              isError={isError}\n              errorText=\"Minimum 4, maximum 16 symbols\"\n              placeholder=\"Enter your username...\"\n              handleChanges={this.onInputChange}\n              handleKeyUp={this.handleKeyUp}\n            />\n            <BaseButton\n              handleClick={this.logIn}\n              text=\"Login\"\n              name=\"login\"\n              className=\"border rounded m-2 py-1 px-3\"\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nSignIn.propTypes = {\n  onSignIn: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSignIn: data => dispatch(signIn(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(SignIn);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BaseSelect({\n  name,\n  optionList,\n  label,\n  disabledFirstElement,\n  handleChanges,\n  value,\n  className,\n}) {\n  return (\n    <>\n      <span className=\"font-weight-bold \">{label}</span>\n      <select\n        name={name}\n        onChange={e => {\n          handleChanges(e);\n        }}\n        className={className}\n        value={value}\n      >\n        {optionList.map((item, index) => {\n          return (\n            <option disabled={disabledFirstElement && !index} key={item} value={item}>\n              {item}\n            </option>\n          );\n        })}\n      </select>\n    </>\n  );\n}\n\nBaseSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  disabledFirstElement: PropTypes.bool,\n  optionList: PropTypes.instanceOf(Array).isRequired,\n  handleChanges: PropTypes.func.isRequired,\n};\n\nBaseSelect.defaultProps = {\n  label: null,\n  className: 'custom-select text-capitalize',\n  disabledFirstElement: false,\n};\n\nexport default BaseSelect;\n","const priceFilter = [\n  {\n    name: 'All',\n  },\n  {\n    name: '0 < price < 15',\n    from: 0,\n    to: 15,\n  },\n  {\n    name: '16 < price < 30',\n    from: 16,\n    to: 30,\n  },\n  {\n    name: 'price > 31',\n    from: 31,\n    to: Infinity,\n  },\n];\n\nexport default priceFilter;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport BaseInput from '../ui/BaseInput';\nimport BaseSelect from '../ui/BaseSelect';\n\nimport { setFilter } from '../../actions/books';\nimport priceFilter from './priceFilter';\n\nfunction Menu({ filters, onSetFilter }) {\n  function handleChanges(e) {\n    const { name, value } = e.target;\n    onSetFilter({ name, value });\n  }\n\n  function makeOptionList() {\n    return priceFilter.map(item => item.name);\n  }\n\n  return (\n    <div className=\"d-flex w-50 justify-content-start\">\n      <div className=\"w-50 mr-3\">\n        <BaseInput\n          value={filters.search}\n          name=\"search\"\n          handleChanges={handleChanges}\n          id=\"search\"\n          placeholder=\"Search by book name\"\n        />\n      </div>\n      <div className=\"w-50\">\n        <BaseSelect\n          value={filters.price}\n          optionList={makeOptionList()}\n          name=\"price\"\n          handleChanges={handleChanges}\n        />\n      </div>\n    </div>\n  );\n}\n\nMenu.propTypes = {\n  filters: PropTypes.instanceOf(Object).isRequired,\n  onSetFilter: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  filters: state.books.filters,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetFilter: data => dispatch(setFilter(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n","export const SAVE_BOOKS_LIST = 'SAVE_BOOK_LIST';\nexport const SET_FILTER = 'SET_FILTER';\n\nexport const saveBooksList = data => {\n  return {\n    type: SAVE_BOOKS_LIST,\n    payload: data,\n  };\n};\n\nexport const setFilter = data => {\n  return {\n    type: SET_FILTER,\n    payload: data,\n  };\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport BaseButton from '../../ui/BaseButton';\n\nfunction BookCard({ book }) {\n  return (\n    <div\n      className=\"d-flex flex-column align-items-center justify-content-between p-2 border rounded m-3\"\n      style={{ width: '20%' }}\n    >\n      <img src={book.cover} alt=\"Book Cover\" style={{ height: '200px' }} />\n      <p className=\"font-weight-bold align-self-start\">{book.title}</p>\n      <p className=\"align-self-start\">{book.author}</p>\n      <div className=\"w-100 d-flex justify-content-between align-items-center mt-5\">\n        <p className=\"font-weight-bold\">{book.price} $</p>\n        <Link to={`/books/${book.id}`}>\n          <BaseButton\n            handleClick={() => {}}\n            text=\"View Details\"\n            name=\"viewDetails\"\n            className=\"border rounded p-2 bg-light\"\n          />\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nBookCard.propTypes = {\n  book: PropTypes.instanceOf(Object).isRequired,\n};\n\nexport default BookCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport BookCard from './BookCard';\n\nimport { saveBooksList } from '../../actions/books';\nimport priceFilter from '../Menu/priceFilter';\nimport { clearLocalStorage } from '../../helpers';\n\nclass BooksList extends Component {\n  async componentDidMount() {\n    const { onSaveBooksList } = this.props;\n    try {\n      const booksLists = await axios.get('books');\n      onSaveBooksList(booksLists.data);\n    } catch (e) {\n      if (e.response.data.message === 'Unauthorized') {\n        const { history } = this.props;\n        clearLocalStorage();\n        history.push('/signin');\n      }\n      console.error(`${e.name}: ${e.message}`);\n    }\n  }\n\n  makeSearch = list => {\n    const { filters } = this.props;\n    const { search } = filters;\n    return list.filter(book => book.title.toLowerCase().includes(search.toLowerCase()));\n  };\n\n  makeFilter = list => {\n    const { filters } = this.props;\n    const { price } = filters;\n    if (price.toLowerCase() === 'all') return list;\n    const filterParams = priceFilter.find(item => item.name === price);\n    return list.filter(book => book.price >= filterParams.from && book.price <= filterParams.to);\n  };\n\n  makeBooksList = () => {\n    const { booksList, filters } = this.props;\n    const { search, price } = filters;\n    let result = booksList;\n    if (search) result = this.makeSearch(result);\n    if (price) result = this.makeFilter(result);\n    return result;\n  };\n\n  render() {\n    return (\n      <div className=\"d-flex flex-wrap justify-content-center\">\n        {this.makeBooksList().map(book => {\n          return <BookCard book={book} key={book.id} />;\n        })}\n      </div>\n    );\n  }\n}\n\nBooksList.propTypes = {\n  booksList: PropTypes.instanceOf(Array).isRequired,\n  onSaveBooksList: PropTypes.func.isRequired,\n  filters: PropTypes.instanceOf(Object).isRequired,\n  history: PropTypes.instanceOf(Object).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  booksList: state.books.booksList,\n  filters: state.books.filters,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSaveBooksList: data => dispatch(saveBooksList(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksList);\n","import React from 'react';\nimport Menu from '../../components/Menu';\nimport BooksList from '../../components/BooksList';\n\nfunction Books({ ...props }) {\n  return (\n    <div className=\"p-4\">\n      <Menu />\n      <BooksList {...props} />\n    </div>\n  );\n}\n\nexport default Books;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BookDetailsInfo({ currentBook }) {\n  return (\n    <div className=\"w-75 h-100\">\n      <div className=\"d-flex h-100\">\n        <div className=\"d-flex w-50 border rounded justify-content-center align-items-center p-2 mr-2\">\n          <img src={currentBook.cover} alt=\"Book Cover\" />\n        </div>\n        <div>\n          <h3 className=\"font-weight-bold mb-2 ml-2 mr-2\" style={{ fontSize: '18px' }}>\n            {currentBook.title}\n          </h3>\n          <p className=\"m-2\">\n            <span className=\"font-weight-bold\">Author: </span>\n            {currentBook.author}\n          </p>\n          <p className=\"m-2\">\n            <span className=\"font-weight-bold\">Level: </span>\n            {currentBook.level}\n          </p>\n          <p className=\"m-2\">\n            <span className=\"font-weight-bold\">Tags: </span>\n            {currentBook.tags && currentBook.tags.map(tag => `${tag}; `)}\n          </p>\n        </div>\n      </div>\n      <p className=\"mt-4\">{currentBook.description}</p>\n    </div>\n  );\n}\n\nBookDetailsInfo.propTypes = {\n  currentBook: PropTypes.instanceOf(Object).isRequired,\n};\n\nexport default BookDetailsInfo;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport BaseInput from '../ui/BaseInput';\nimport BaseButton from '../ui/BaseButton';\n\nimport { addItemToCard } from '../../actions/purchaseCard';\n\nclass BookPurchase extends Component {\n  constructor() {\n    super();\n    this.state = {\n      count: '1',\n      isWarningShown: false,\n    };\n  }\n\n  checkTheNumberOfAvailableBook = () => {\n    const { basket, currentBook } = this.props;\n    let result = currentBook.count;\n    if (!basket.length) return result;\n    basket.forEach(item => {\n      if (item.item.id === currentBook.id) {\n        result -= item.count;\n      }\n    });\n    return result;\n  };\n\n  handleChanges = e => {\n    const { name, value } = e.target;\n\n    if (value > this.checkTheNumberOfAvailableBook())\n      this.setState({ [name]: String(this.checkTheNumberOfAvailableBook()), isWarningShown: true });\n    else this.setState({ [name]: value, isWarningShown: false });\n  };\n\n  handleBlur = () => {\n    this.setState({ isWarningShown: false });\n  };\n\n  clearState = () => {\n    this.setState({\n      count: '1',\n    });\n  };\n\n  handleClick = () => {\n    const { onAddItemToCard, currentBook, toggleModal } = this.props;\n    const { count } = this.state;\n    if (count === '0') return;\n    onAddItemToCard({ item: currentBook, count });\n    this.clearState();\n    toggleModal();\n  };\n\n  render() {\n    const { currentBook } = this.props;\n    const { count, isWarningShown } = this.state;\n    return (\n      <div className=\"w-25 border rounded p-3 h-50 font-weight-bold position-relative\">\n        <img\n          src={require('../../assets/images/bookPurchase/soldOut2.png')}\n          alt=\"Sold Out\"\n          style={{ top: '-20px' }}\n          className={`position-absolute ${\n            !this.checkTheNumberOfAvailableBook() ? 'd-flex' : 'd-none'\n          }`}\n        />\n        <div className=\"d-flex justify-content-between mb-2\">\n          <p>Price, $</p> <p>{currentBook.price}</p>\n        </div>\n        <div className=\"d-flex justify-content-between align-items-center mb-2\">\n          <p>Count</p>\n          <div className=\"w-25\">\n            <BaseInput\n              value={count}\n              name=\"count\"\n              handleChanges={this.handleChanges}\n              handleBlur={this.handleBlur}\n              id=\"count\"\n              type=\"number\"\n              max={String(this.checkTheNumberOfAvailableBook())}\n            />\n          </div>\n        </div>\n        <p\n          className={`w-100 text-warning text-right ${isWarningShown ? 'd-flex' : 'd-none'}`}\n          style={{ fontSize: '12px' }}\n        >\n          Sorry! There are only {this.checkTheNumberOfAvailableBook()} books available :(\n        </p>\n        <div className=\"d-flex justify-content-between mb-2\">\n          <p>Total Price</p>\n          <p>{(currentBook.price * count).toFixed(2)}</p>\n        </div>\n        <div className=\"d-flex justify-content-end\">\n          <BaseButton\n            handleClick={this.handleClick}\n            text=\"Add to card\"\n            name=\"addToCard\"\n            className=\"border rounded p-2 bg-light\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nBookPurchase.propTypes = {\n  currentBook: PropTypes.instanceOf(Object).isRequired,\n  basket: PropTypes.instanceOf(Object).isRequired,\n  onAddItemToCard: PropTypes.func.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  basket: state.purchaseCard.basket,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddItemToCard: data => dispatch(addItemToCard(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookPurchase);\n","export const ADD_ITEM_TO_CARD = 'ADD_ITEM_TO_CARD';\nexport const CLEAR_CARD = 'CLEAR_CARD';\n\nexport const addItemToCard = data => {\n  return {\n    type: ADD_ITEM_TO_CARD,\n    payload: data,\n  };\n};\nexport const clearCard = () => {\n  return {\n    type: CLEAR_CARD,\n  };\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\n\nimport { isClickOutside } from '../../../helpers';\n\nclass Modal extends Component {\n  constructor() {\n    super();\n    this.modal = React.createRef();\n  }\n\n  componentDidMount() {\n    this.modal.focus();\n  }\n\n  handleOutsideClick = e => {\n    const { closeModal } = this.props;\n    if (isClickOutside(e, this.modal)) closeModal();\n  };\n\n  render() {\n    const { modalTitle, children, handleKeyUp } = this.props;\n    return (\n      <div\n        className=\"modal-wrapper d-flex vw-100 vh-100 position-fixed overflow-auto justify-content-center align-items-center\"\n        onClick={e => this.handleOutsideClick(e)}\n      >\n        <div\n          className=\"base-modal d-flex flex-column align-items-center justify-content-center rounded p-4\"\n          ref={elem => {\n            this.modal = elem;\n          }}\n          tabIndex=\"0\"\n          onKeyDown={e => handleKeyUp(e)}\n        >\n          <h2 className=\"modal-title font-weight-bold text-center\">{modalTitle}</h2>\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  modalTitle: PropTypes.string,\n  children: PropTypes.instanceOf(Object),\n  handleKeyUp: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nModal.defaultProps = {\n  modalTitle: '',\n  children: null,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport { Link } from 'react-router-dom';\nimport BookDetailsInfo from '../../components/BookDetailsInfo';\nimport BookPurchase from '../../components/BookPurchase';\nimport Modal from '../../components/ui/Modal';\nimport BaseButton from '../../components/ui/BaseButton';\nimport { clearLocalStorage } from '../../helpers';\n\nclass BookDetails extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentBook: null,\n      isModalShown: false,\n    };\n  }\n\n  componentDidMount() {\n    const { booksList } = this.props;\n    if (!booksList.length) this.getCurrentBook();\n    else this.setCurrentBook();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match, booksList } = this.props;\n    const { currentBook } = this.state;\n    if (!booksList.length && !currentBook) this.getCurrentBook();\n    else if (prevProps.match.params.id !== match.params.id) this.setCurrentBook();\n  }\n\n  getCurrentBook = async () => {\n    const { match } = this.props;\n    try {\n      const currentBook = await axios.get(`books/${match.params.id}`);\n      this.setState({ currentBook: currentBook.data });\n    } catch (e) {\n      const { history } = this.props;\n      if (e.response.status === 404) {\n        history.push('/not-found');\n      } else if (e.response.data.message === 'Unauthorized') {\n        clearLocalStorage();\n        history.push('/signin');\n      } else console.error(`${e.name}: ${e.message}`);\n    }\n  };\n\n  setCurrentBook = () => {\n    const { match, booksList, history } = this.props;\n    if (!booksList.length) this.getCurrentBook();\n    else {\n      const currentBook = booksList.filter(book => book.id === match.params.id);\n      if (!currentBook.length) history.push('/not-found');\n      this.setState({ currentBook: { ...currentBook[0] } });\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(state => {\n      return {\n        isModalShown: !state.isModalShown,\n      };\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalShown: false });\n  };\n\n  handleKeyUp = e => {\n    if (e.keyCode === 27 || e.keyCode === 13) this.closeModal();\n  };\n\n  render() {\n    const { currentBook, isModalShown } = this.state;\n    return (\n      <div className=\"d-flex w-100 p-5\">\n        {currentBook && (\n          <>\n            <BookDetailsInfo currentBook={currentBook} />\n            <BookPurchase currentBook={currentBook} toggleModal={this.toggleModal} />\n            {isModalShown && (\n              <Modal\n                modalTitle=\"Thank you for your order!\"\n                handleKeyUp={this.handleKeyUp}\n                closeModal={this.closeModal}\n              >\n                <p className=\"text-center my-4\">The book has been successfully added to the cart</p>\n                <Link to=\"/books\">\n                  <BaseButton\n                    handleClick={this.toggleModal}\n                    text=\"Continue shopping\"\n                    name=\"continueShopping\"\n                    className=\"border rounded p-2 text-warning font-weight-bold\"\n                  />\n                </Link>\n                <Link to=\"/card\">\n                  <BaseButton\n                    handleClick={this.toggleModal}\n                    text=\"Checkout\"\n                    name=\"checkout\"\n                    className=\"border rounded p-2 text-success font-weight-bold mt-2\"\n                  />\n                </Link>\n              </Modal>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nBookDetails.propTypes = {\n  booksList: PropTypes.instanceOf(Array).isRequired,\n  match: PropTypes.instanceOf(Object).isRequired,\n  history: PropTypes.instanceOf(Object).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  booksList: state.books.booksList,\n});\n\nexport default connect(mapStateToProps, null)(BookDetails);\n","import React from 'react';\n\nfunction PurchaseCardEmptyCard() {\n  return (\n    <div\n      style={{ minHeight: `calc(100vh - 100px)` }}\n      className=\"d-flex flex-column justify-content-center align-items-center\"\n    >\n      <h3>The card is empty :(</h3>\n      <img src=\"https://img.icons8.com/dotty/80/000000/shopping-basket.png\" alt=\"Basket icon\" />\n    </div>\n  );\n}\n\nexport default PurchaseCardEmptyCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction BasketItem({ basketItem }) {\n  return (\n    <div className=\"d-flex justify-content-between align-items-center p-3 border rounded my-1\">\n      <div className=\"d-flex align-items-center justify-content-between\">\n        <img\n          src={basketItem.item.cover}\n          alt=\"Book cover\"\n          style={{ height: '45px' }}\n          className=\"mr-3\"\n        />\n        <h3 className=\"mr-5 font-weight-bold\">{basketItem.item.title}</h3>\n        <p>{basketItem.count} items</p>\n      </div>\n      <p>Total price: {basketItem.item.price * basketItem.count} $</p>\n    </div>\n  );\n}\n\nBasketItem.propTypes = {\n  basketItem: PropTypes.instanceOf(Object).isRequired,\n};\n\nexport default BasketItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BasketItem from './BasketItem';\n\nfunction PurchaseCardList({ basket }) {\n  function countTotalPrice() {\n    let price = 0;\n\n    basket.forEach(item => {\n      price += item.count * item.item.price;\n    });\n    return price.toFixed(2);\n  }\n\n  return (\n    <div className=\"d-flex flex-column\">\n      {basket.map(basketItem => (\n        <BasketItem basketItem={basketItem} key={basketItem.item.id} />\n      ))}\n      <p className=\"align-self-end font-weight-bold pr-3 my-3\">Total price: {countTotalPrice()}$</p>\n    </div>\n  );\n}\n\nPurchaseCardList.propTypes = {\n  basket: PropTypes.instanceOf(Object).isRequired,\n};\n\nexport default PurchaseCardList;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport BaseButton from '../../components/ui/BaseButton';\nimport PurchaseCardEmptyCard from '../../components/PurchaseCard/PurchaseCardEmptyCard';\nimport PurchaseCardList from '../../components/PurchaseCard/PurchaseCardList';\nimport Modal from '../../components/ui/Modal';\n\nimport { clearCard } from '../../actions/purchaseCard';\nimport { clearLocalStorage } from '../../helpers';\n\nclass PurchaseCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isModalShown: false,\n    };\n  }\n\n  handleClick = async () => {\n    const { onClearCard } = this.props;\n    const books = this.formatDataBeforeSend();\n    try {\n      await axios.post('purchase', { books });\n      onClearCard();\n      this.toggleModal();\n    } catch (e) {\n      if (e.response.data.message === 'Unauthorized') {\n        const { history } = this.props;\n        clearLocalStorage();\n        history.push('/signin');\n      } else console.error(`${e.name}: ${e.message}`);\n    }\n  };\n\n  formatDataBeforeSend = () => {\n    const { basket } = this.props;\n    const result = [];\n    basket.forEach(item => {\n      for (let i = 0; i < item.count; i++) {\n        result.push(item.item.id);\n      }\n    });\n    return result;\n  };\n\n  toggleModal = () => {\n    this.setState(state => {\n      return {\n        isModalShown: !state.isModalShown,\n      };\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalShown: false });\n  };\n\n  handleKeyUp = e => {\n    if (e.keyCode === 27 || e.keyCode === 13) this.closeModal();\n  };\n\n  render() {\n    const { isModalShown } = this.state;\n    const { countOfProducts, basket } = this.props;\n    return (\n      <div>\n        {countOfProducts ? (\n          <div className=\"d-flex flex-column px-5\">\n            <BaseButton\n              handleClick={this.handleClick}\n              text=\"Purchase\"\n              name=\"purchase\"\n              className=\"border rounded bg-success p-2 align-self-end my-2\"\n              style={{ width: '150px' }}\n            />\n            <PurchaseCardList basket={basket} />\n          </div>\n        ) : (\n          <PurchaseCardEmptyCard />\n        )}\n        {isModalShown && (\n          <Modal\n            modalTitle=\"Thank you for your order!\"\n            handleKeyUp={this.handleKeyUp}\n            closeModal={this.closeModal}\n          >\n            <p className=\"text-center my-4\">The order was successfully sent.</p>\n            <Link to=\"/books\">\n              <BaseButton\n                handleClick={this.toggleModal}\n                text=\"Continue shopping\"\n                name=\"continueShopping\"\n                className=\"border rounded p-2 text-success font-weight-bold\"\n              />\n            </Link>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nPurchaseCard.propTypes = {\n  countOfProducts: PropTypes.number.isRequired,\n  basket: PropTypes.instanceOf(Array).isRequired,\n  history: PropTypes.instanceOf(Object).isRequired,\n  onClearCard: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  countOfProducts: state.purchaseCard.countOfProducts,\n  basket: state.purchaseCard.basket,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClearCard: () => dispatch(clearCard()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PurchaseCard);\n","import React from 'react';\n\nfunction NotFound() {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <img\n        src={require('../../assets/images/notFound/notFound.jpg')}\n        alt=\"Not Found\"\n        className=\"mt-5\"\n      />\n    </div>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\n\nconst Spinner = () => {\n  return (\n    <div\n      className=\"min-vh-100 min-vw-100 position-absolute d-flex justify-content-center align-items-center\"\n      style={{ top: 0 }}\n    >\n      <img src={require('../../assets/images/spinner/spinner.gif')} alt=\"Spinner\" />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <div className=\"position-absolute fixed-bottom text-center\">\n      <span>\n        <code>\n          <Link to=\"/books\">JS Band store </Link>\n          created by <a href=\"https://github.com/feroxes/\">Yarik Harmash</a>\n        </code>\n      </span>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PublicRoute = ({ component: Component, restricted, isAuthenticated, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isAuthenticated && restricted ? <Redirect to=\"/books\" /> : <Component {...props} />\n      }\n    />\n  );\n};\n\nPublicRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  restricted: PropTypes.bool.isRequired,\n  component: PropTypes.instanceOf(Object).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.user.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, null)(PublicRoute);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, isAuthenticated, path, ...props }) => {\n  function setRoute() {\n    if (path === '/' && !isAuthenticated) {\n      return (\n        <Route {...props}>\n          <Redirect to=\"/signin\" />\n        </Route>\n      );\n    }\n    if (path === '/' && isAuthenticated) {\n      return (\n        <Route {...props}>\n          <Redirect to=\"/books\" />\n        </Route>\n      );\n    }\n    return (\n      <Route\n        {...props}\n        render={props => (isAuthenticated ? <Component {...props} /> : <Redirect to=\"/signin\" />)}\n      />\n    );\n  }\n  return setRoute();\n};\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.instanceOf(Object).isRequired,\n  path: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.user.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, null)(PrivateRoute);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport Header from './components/Header';\nimport SignIn from './containers/SignIn';\nimport Books from './containers/Books';\nimport BookDetails from './containers/BookDetails';\nimport PurchaseCard from './containers/PurchaseCard';\nimport NotFound from './containers/NotFound';\nimport Spinner from './components/Spinner';\nimport Footer from './components/Footer';\n\nimport { signIn, setLoading } from './actions/user';\n\nimport PublicRoute from './routes/PublicRoute';\nimport PrivateRoute from './routes/PrivateRoute';\n\nclass App extends Component {\n  componentDidMount() {\n    const { onSetLoading } = this.props;\n    const token = localStorage.getItem('token');\n    const username = localStorage.getItem('username');\n    if (token && username) {\n      this.getProfile(username);\n    } else onSetLoading(false);\n  }\n\n  getProfile = async username => {\n    const { onSignIn, onSetLoading } = this.props;\n    onSetLoading(true);\n    try {\n      const user = await axios.post('signin', { username });\n      onSignIn(user.data);\n    } catch (e) {\n      console.error(`${e.name}: ${e.message}`);\n    }\n  };\n\n  render() {\n    const { isAuthenticated, isLoading } = this.props;\n    return (\n      <div className=\"position-relative min-vh-100\">\n        {isAuthenticated && <Header />}\n        {isLoading !== null && !isLoading ? (\n          <Switch>\n            <PrivateRoute component={{}} path=\"/\" exact />\n            <PublicRoute component={SignIn} path=\"/signin\" exact restricted />\n            <PrivateRoute component={Books} path=\"/books\" exact />\n            <PrivateRoute component={BookDetails} path=\"/books/:id\" exact />\n            <PrivateRoute component={PurchaseCard} path=\"/card\" exact />\n            <PublicRoute component={NotFound} restricted={false} />\n          </Switch>\n        ) : (\n          <Spinner />\n        )}\n        <Footer />\n      </div>\n    );\n  }\n}\nApp.propTypes = {\n  onSignIn: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool,\n  onSetLoading: PropTypes.func.isRequired,\n};\n\nApp.defaultProps = {\n  isLoading: null,\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.user.isAuthenticated,\n  isLoading: state.user.isLoading,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSignIn: data => dispatch(signIn(data)),\n  onSetLoading: data => dispatch(setLoading(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { SET_LOADING, SIGN_IN, SIGN_OUT } from '../actions/user';\n\nconst initialState = {\n  username: '',\n  avatar: '',\n  isAuthenticated: false,\n  isLoading: null,\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case SET_LOADING:\n      return {\n        ...state,\n        isLoading: payload,\n      };\n    case SIGN_IN:\n      return {\n        ...state,\n        username: payload.username,\n        avatar: payload.avatar,\n        isAuthenticated: true,\n        isLoading: false,\n      };\n    case SIGN_OUT:\n      return {\n        ...state,\n        username: '',\n        avatar: '',\n        isAuthenticated: false,\n      };\n    default:\n      return state;\n  }\n};\n","import { ADD_ITEM_TO_CARD, CLEAR_CARD } from '../actions/purchaseCard';\n\nconst initialState = {\n  countOfProducts: 0,\n  basket: [],\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ADD_ITEM_TO_CARD:\n      return {\n        ...state,\n        basket: [...state.basket, payload],\n        countOfProducts: state.countOfProducts + Number(payload.count),\n      };\n    case CLEAR_CARD:\n      return {\n        ...state,\n        basket: [],\n        countOfProducts: 0,\n      };\n    default:\n      return state;\n  }\n};\n","import { SAVE_BOOKS_LIST, SET_FILTER } from '../actions/books';\n\nconst initialState = {\n  booksList: [],\n  filters: {\n    search: '',\n    price: '',\n  },\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case SAVE_BOOKS_LIST:\n      return {\n        ...state,\n        booksList: [...payload],\n      };\n    case SET_FILTER:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          [payload.name]: payload.value,\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport purchaseCard from './purchaseCard';\nimport books from './books';\n\nexport default combineReducers({\n  user,\n  purchaseCard,\n  books,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\nimport App from './App';\nimport rootReducer from './reducers';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './assets/scss/main.scss';\n\nconst APP_API_URL = 'https://js-band-api.glitch.me/';\naxios.defaults.baseURL = APP_API_URL;\n\nconst token = localStorage.getItem('token');\nif (token) {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n}\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}